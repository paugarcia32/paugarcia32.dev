---
interface TimelineItem {
  title: string;
  description?: string;
}

interface Props {
  items: TimelineItem[];
}

const { items } = Astro.props;
---

<div class="my-8">
  {
    items.map((item, index) => (
      <div class="flex gap-4">
        {/* Left column: dot + connecting line */}
        <div class="flex flex-col items-center">
          <div class="z-10 flex h-8 w-8 shrink-0 items-center justify-center rounded-full border-2 border-primary/40 bg-primary/10 text-xs font-semibold text-primary dark:border-primary/30 dark:bg-primary/15">
            {index + 1}
          </div>
          {index < items.length - 1 && (
            <div class="w-px flex-1 bg-primary/20 dark:bg-primary/25" />
          )}
        </div>

        {/* Right column: divs instead of p to avoid prose margin injection,
            while still inheriting prose color/line-height/font */}
        <div class="pb-8 pt-1.5 last:pb-0">
            <p class="not-prose text-sm font-semibold text-black dark:text-white">
            {item.title}
          </p>
          {item.description && (
            <p class="mt-2 text-sm text-black/60 dark:text-white/60">
              {item.description}
            </p>
          )}
        </div>
      </div>
    ))
  }
</div>
