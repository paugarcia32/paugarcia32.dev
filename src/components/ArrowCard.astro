---
import type { CollectionEntry } from "astro:content";
import { normalizeEntryId } from "@lib/utils";

type Props = {
  entry: CollectionEntry<"blog"> | CollectionEntry<"projects">;
};

const { entry } = Astro.props;
---

<a
  href={`/${entry.collection}/${normalizeEntryId(entry)}`}
  data-hover-row
  class="relative grid grid-cols-[4rem_1fr_auto] gap-x-4 items-baseline py-2 px-2 border-b border-cloud-medium/10 dark:border-cloud-medium/5"
>
  <span class="text-xs text-cloud-dark dark:text-cloud-light tabular-nums">
    {entry.data.date.getFullYear()}
  </span>
  <div class="min-w-0">
    <div class="text-sm font-medium truncate">
      {entry.data.title}
    </div>
    {entry.data.description && (
      <div class="text-xs text-cloud-dark dark:text-cloud-light truncate mt-0.5">
        {entry.data.description}
      </div>
    )}
  </div>
  <span class="text-xs text-cloud-dark dark:text-cloud-light">
    {entry.collection === "projects" ? "project" : entry.collection}
  </span>
</a>
